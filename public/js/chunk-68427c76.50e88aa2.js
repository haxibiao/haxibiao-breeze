(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68427c76"],{"9fa6":function(e,t,n){"use strict";n("e852")},a55b:function(e,t,n){"use strict";n.r(t);var a=n("7a23");Object(a["Q"])("data-v-ba89f73a");var r={id:"scene-container"},c={class:"content-container"},o=Object(a["q"])(" +86 "),l={class:"form-label"},u={class:"label-btn"},i=Object(a["q"])("忘记密码?"),s=Object(a["n"])("p",{class:"agreement"},[Object(a["q"])(" 登录即表示已阅读并同意 "),Object(a["n"])("a",{class:"link-text",href:"/userProtocol",target:"_blank"},"《用户协议》"),Object(a["q"])(" 和 "),Object(a["n"])("a",{class:"link-text",href:"/privacyPolicy",target:"_blank"},"《隐私政策》")],-1);function b(e,t,n,b,d,f){var m=Object(a["W"])("Header"),O=Object(a["W"])("el-input"),p=Object(a["W"])("el-form-item"),j=Object(a["W"])("router-link"),g=Object(a["W"])("el-button"),v=Object(a["W"])("el-form"),h=Object(a["X"])("loading");return Object(a["N"])(),Object(a["m"])(a["b"],null,[Object(a["r"])(m,{title:e.activeName},null,8,["title"]),Object(a["mb"])(Object(a["n"])("div",r,[Object(a["n"])("div",c,[Object(a["r"])(v,{ref:"loginForm",model:e.formData,rules:e.rules,class:"login-form"},{default:Object(a["lb"])((function(){return[Object(a["r"])(p,{label:"手机号",prop:"account"},{default:Object(a["lb"])((function(){return[Object(a["r"])(O,{name:"formData-account",autocomplete:"",class:"account-input",modelValue:e.formData.account,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.account=t}),placeholder:"请输入手机号",clearable:"",maxlength:"11"},{prefix:Object(a["lb"])((function(){return[o]})),_:1},8,["modelValue"])]})),_:1}),Object(a["r"])(p,{label:"密 码",prop:"password"},{default:Object(a["lb"])((function(){return[Object(a["r"])(O,{modelValue:e.formData.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.password=t}),placeholder:"请输入密码","show-password":"",maxlength:"12"},null,8,["modelValue"])]})),_:1}),Object(a["n"])("div",l,[Object(a["n"])("p",{class:"tab-item",onClick:t[2]||(t[2]=function(){return e.toggleForm&&e.toggleForm.apply(e,arguments)})},[Object(a["n"])("span",u,Object(a["ab"])("登录"===e.activeName?"没有账号？去注册":"已有账号！去登录"),1)]),Object(a["n"])("p",{class:"tab-item",onClick:t[3]||(t[3]=function(){return e.sendVerifyCode&&e.sendVerifyCode.apply(e,arguments)})},[Object(a["r"])(j,{to:"/getpass"},{default:Object(a["lb"])((function(){return[i]})),_:1})])]),Object(a["r"])(p,{class:"button-wrap"},{default:Object(a["lb"])((function(){return[Object(a["r"])(g,{type:"primary",disabled:e.disabled,onClick:e.submitForm,class:"submit-button"},{default:Object(a["lb"])((function(){return[Object(a["q"])(Object(a["ab"])(e.activeName),1)]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1},8,["model","rules"]),s])],512),[[h,e.loading,void 0,{fullscreen:!0,lock:!0}]])],64)}Object(a["O"])();var d=n("3835"),f=n("1da1"),m=(n("96cf"),n("99af"),n("6c02")),O=n("4995"),p=n("f3e7"),j=n("a684"),g=n("0613"),v=Object(a["s"])({setup:function(e,t){var n=Object(m["d"])(),r=Object(a["S"])("登录"),c=Object(a["S"])(!1),o=Object(a["S"])({account:"",password:""}),l=Object(j["K"])(o.value),u=l.signInMutate,i=Object(j["L"])(o.value),s=i.signUpMutate;function b(){var e="登录"===r.value?"注册":"登录";r.value=e}function v(e){O["a"].error("".concat(r.value,"出错：").concat(Object(p["a"])(e)))}function h(e){Object(O["a"])({message:"".concat(r.value,"成功!"),type:"success"}),g["c"].commit(g["b"].USER_LOGIN,e),g["a"].setItem("user",e),window.location.reload(),n.go(-1)}function w(){return k.apply(this,arguments)}function k(){return k=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,e.next=3,Object(p["b"])((function(){return u()}));case 3:t=e.sent,n=Object(d["a"])(t,2),a=n[0],r=n[1],c.value=!1,a?(console.log("signIn err",a),v(a)):null!==r&&void 0!==r&&r.data.signIn&&h(null===r||void 0===r?void 0:r.data.signIn);case 9:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function y(){return _.apply(this,arguments)}function _(){return _=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,e.next=3,Object(p["b"])((function(){return s()}));case 3:t=e.sent,n=Object(d["a"])(t,2),a=n[0],r=n[1],c.value=!1,a?v(a):null!==r&&void 0!==r&&r.data.signUp&&h(null===r||void 0===r?void 0:r.data.signUp);case 9:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}return{activeName:r,toggleActiveTab:b,loading:c,formData:o,onSignIn:w,onSignUp:y}},computed:{disabled:function(){return!this.formData.account||!this.formData.password}},methods:{submitForm:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;"登录"===e.activeName?e.onSignIn():e.onSignUp()}))},toggleForm:function(){this.$refs.loginForm.resetFields(),this.toggleActiveTab()}},data:function(){return{rules:{account:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,message:"手机号长度不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"密码格式不正确（6-12）位",trigger:"blur"}]}}}});n("9fa6");v.render=b,v.__scopeId="data-v-ba89f73a";t["default"]=v},e852:function(e,t,n){}}]);
//# sourceMappingURL=chunk-68427c76.50e88aa2.js.map