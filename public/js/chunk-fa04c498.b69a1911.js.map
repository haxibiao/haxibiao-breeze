{"version":3,"sources":["webpack:///./src/views/parts/VideoToolbar.vue?db9a","webpack:///./src/views/VideoDetail.vue","webpack:///./src/components/CollectionVideos.vue","webpack:///./src/components/CollectionVideos.vue?360b","webpack:///./src/components/CollectionVideos.vue?d3a1","webpack:///./src/views/parts/AuthorInfo.vue","webpack:///./src/views/parts/AuthorInfo.vue?c267","webpack:///./src/views/parts/AuthorInfo.vue?b4f1","webpack:///./src/views/parts/VideoToolbar.vue","webpack:///./src/views/parts/VideoToolbar.vue?8f90","webpack:///./src/views/parts/VideoToolbar.vue?45ac","webpack:///./src/views/VideoDetail.vue?a227","webpack:///./src/views/VideoDetail.vue?9115","webpack:///./src/views/VideoDetail.vue?8ae3","webpack:///./src/components/CollectionVideos.vue?7ed9","webpack:///./src/views/parts/AuthorInfo.vue?a779"],"names":["id","class","videoSource","source","progress","isCollapse","post","description","toggleCollapse","relatedMovies","length","slice","item","key","to","movie","type","count","commentable-id","user","collection","xmlns","viewBox","fill-rule","clip-rule","d","fill-opacity","name","currentCollection","count_posts","collectionPosts","index","src","cover","alt","liked","count_likes","loadingMore","hasMorePages","loadMore","props","Object","components","Skeleton","setup","value","page","enabled","render","__scopeId","rel","href","avatar","count_followers","size","round","FollowButton","t","version","p-id","fill","width","height","favoriteHandler","placement","popper-class","trigger","show-arrow","reference","videoLink","copyVideoLink","downloadApp","showReportModal","link","fetchPolicy","toggleLike","onDone","onError","data","isLiked","message","toClipboard","watchTogether","methods","this","$bus","emit","title","window","open","focus","DPlayer","CommentModule","RCMovieItem","AuthorInfo","VideoToolbar","CollectionVideos","route","postId","Number","params","prevValue","video","collections","val","movie_id","limit"],"mappings":"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","file":"js/chunk-fa04c498.b69a1911.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./VideoToolbar.vue?vue&type=style&index=0&id=b131e582&lang=scss&scoped=true\"","<template>\n  <Masthead />\n  <div id=\"scene-container\">\n    <div id=\"video-detail\">\n      <div class=\"main-content\">\n        <div class=\"mc-l\">\n          <div class=\"player-wrap\">\n            <div class=\"embed-responsive\">\n              <div class=\"player-module\">\n                <div class=\"player-container\">\n                  <DPlayer v-if=\"videoSource\" :source=\"videoSource\" :progress=\"0\" />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"media-warp\">\n            <div class=\"video-intro\">\n              <div :class=\"['intro-wrap', isCollapse && 'collapse']\">\n                <div class=\"intro-detail\">\n                  {{ post?.description }}\n                  <span class=\"down-up up-box\" @click=\"toggleCollapse\">\n                    收起\n                    <i class=\"el-icon-arrow-up\"></i>\n                  </span>\n                </div>\n                <span class=\"down-up down-box\" @click=\"toggleCollapse\">\n                  展开\n                  <i class=\"el-icon-arrow-down\"></i>\n                </span>\n              </div>\n            </div>\n            <VideoToolbar v-if=\"post\" :post=\"post\" />\n            <div class=\"related-movies show-lg\">\n              <div class=\"section-title\">\n                <h3>\n                  推荐视频\n                </h3>\n              </div>\n              <div class=\"movie-items\">\n                <Skeleton v-if=\"!relatedMovies?.length\" type=\"recommend-movies\" :count=\"4\" />\n                <router-link\n                  v-else\n                  class=\"item-wrap\"\n                  v-for=\"item in relatedMovies.slice(0, 4)\"\n                  :key=\"item.id\"\n                  :to=\"`/movie/${item.id}`\"\n                >\n                  <RCMovieItem :movie=\"item\" />\n                </router-link>\n              </div>\n            </div>\n            <CommentModule v-if=\"post?.id\" :commentable-id=\"post?.id\" type=\"posts\" />\n          </div>\n        </div>\n        <div class=\"mc-r\">\n          <div class=\"module-wrap\">\n            <AuthorInfo :user=\"post?.user\" />\n            <div class=\"split\"></div>\n          </div>\n          <CollectionVideos v-if=\"collection?.id\" :collection=\"collection\" />\n          <div class=\"related-movies\">\n            <div class=\"section-title\">\n              <h3>\n                推荐视频\n              </h3>\n            </div>\n            <div class=\"movie-items\">\n              <Skeleton v-if=\"!relatedMovies?.length\" type=\"recommend-movies\" />\n              <router-link\n                v-else\n                class=\"item-wrap\"\n                v-for=\"movie in relatedMovies\"\n                :key=\"movie?.id\"\n                :to=\"`/movie/${movie?.id}`\"\n              >\n                <RCMovieItem :movie=\"movie\" />\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n  <SideBar />\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { usePostQuery, useRelatedMoviesQuery } from '@/graphql';\nimport DPlayer from '@/components/player/DPlayer.vue';\nimport CommentModule from '@/components/comment/CommentModule.vue';\nimport CollectionVideos from '@/components/CollectionVideos.vue';\nimport RCMovieItem from '@/components/RCMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport AuthorInfo from './parts/AuthorInfo.vue';\nimport VideoToolbar from './parts/VideoToolbar.vue';\n\nexport default {\n  name: 'VideoDetail',\n  components: {\n    DPlayer,\n    CommentModule,\n    RCMovieItem,\n    Skeleton,\n    AuthorInfo,\n    VideoToolbar,\n    CollectionVideos\n  },\n\n  setup(props) {\n    const route = useRoute();\n    const postId = ref(Number(route.params?.id));\n    const { post } = usePostQuery({ id: postId });\n    watch(route, (value, prevValue) => {\n      postId.value = Number(value.params?.id);\n    });\n\n    const videoSource = ref(post.value?.video);\n    const collection = ref(post.value?.collections?.[0] || {});\n    watch(post, (val, prevValue) => {\n      videoSource.value = val?.video;\n      collection.value = val?.collections[0] || {};\n    });\n\n    const { relatedMovies } = useRelatedMoviesQuery({\n      movie_id: 1,\n      limit: 12\n    });\n\n    return {\n      post,\n      collection,\n      videoSource,\n      relatedMovies\n    };\n  },\n  methods: {\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    }\n  },\n  data() {\n    return {\n      isCollapse: true\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#video-detail {\n  margin: 20px auto 40px;\n  padding: 0 var(--content-margin);\n  max-width: var(--max-content-width);\n}\n\n.main-content {\n  display: flex;\n  position: relative;\n  .mc-l {\n    flex: 1;\n    width: 100%;\n  }\n  .mc-r {\n    margin-left: 26px;\n    width: 360px;\n  }\n  @media screen and (max-width: $col-xl-width - 1px) {\n    .mc-r {\n      margin-left: 14px;\n      width: 300px;\n    }\n  }\n  @media screen and (max-width: $col-lg-width - 1px) {\n    .mc-r {\n      display: none;\n    }\n  }\n}\n\n.player-wrap {\n  position: relative;\n  width: 100%;\n  border-radius: 4px;\n  background-color: #f0f0f0;\n  overflow: hidden;\n  .embed-responsive {\n    position: relative;\n    padding-bottom: 56.25%;\n  }\n  .player-module {\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #f1f2f5;\n    .player-container {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n.media-warp {\n  padding-top: 20px;\n  .video-intro {\n    margin-bottom: 16px;\n    padding: 0 2px;\n  }\n}\n\n.intro-wrap {\n  display: block;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  color: #212121;\n  overflow: hidden;\n  position: relative;\n  transition: max-height 0.2s linear;\n  &.collapse {\n    max-height: 48px;\n    .up-box {\n      display: none;\n    }\n    .down-box {\n      display: block;\n    }\n  }\n  .intro-detail {\n    word-wrap: break-word;\n    word-break: break-all;\n    white-space: normal;\n    position: relative;\n    z-index: 1;\n  }\n  .down-up {\n    display: inline-block;\n    height: 24px;\n    line-height: 24px;\n    color: $theme-color_primary;\n    cursor: pointer;\n    position: relative;\n    z-index: 3;\n  }\n  .down-box {\n    display: none;\n    margin-top: 24px;\n    padding-left: 20px;\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: linear-gradient(to right, transparent, #ffffff 15%, #ffffff 100%);\n  }\n}\n\n.module-wrap {\n  margin: 0 0 36px;\n  &.show-lg {\n    margin: 20px 0 0;\n  }\n  .split {\n    margin-top: 20px;\n    width: 100%;\n    border-bottom: 1px solid #f1f2f5;\n  }\n}\n\n.related-movies {\n  &.show-lg {\n    margin-top: 20px;\n    .movie-items {\n      display: flex;\n      flex-wrap: wrap;\n      margin: 0 -1%;\n      .item-wrap {\n        width: 48%;\n        margin: var(--content-margin) 1% 0;\n        @media screen and (max-width: $col-sm-width - 1px) {\n          width: 100%;\n        }\n      }\n    }\n  }\n  .section-title {\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 26px;\n    color: var(--theme-text-primary);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .movie-items {\n    .item-wrap {\n      display: block;\n      margin-top: 24px;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"module-wrap\" v-if=\"collection?.id\">\n    <div class=\"section-title\">\n      <div class=\"flex-row space-between\">\n        <h3>{{ collection?.name || '相关推荐' }}</h3>\n        <div v-if=\"currentCollection?.count_posts\" class=\"meta-info\">共{{ currentCollection?.count_posts }}集</div>\n      </div>\n      <div v-if=\"collection?.description\" class=\"meta-info margin-top\">{{ collection?.description }}</div>\n    </div>\n    <div class=\"video-list\">\n      <Skeleton v-if=\"!collectionPosts?.length\" type=\"recommend-movies\" :count=\"5\" />\n      <router-link\n        v-else\n        class=\"item-wrap\"\n        v-for=\"(item, index) in collectionPosts\"\n        :key=\"item.id\"\n        :to=\"`/video/${item.id}`\"\n      >\n        <div class=\"rc-item\">\n          <div class=\"item-cover\">\n            <div class=\"cover-img\">\n              <img :src=\"item.cover\" alt=\"\" />\n            </div>\n          </div>\n          <div class=\"item-info\">\n            <div class=\"info-title webkit-text-ellipsis\">第{{ index + 1 }}集 | {{ item.description }}</div>\n            <div :class=\"['info-meta', item?.liked && 'on']\">\n              <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36 36\">\n                <path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M13.836 7C9.49 7 6 10.726 6 15.064c0 .108.002.194.003.253a1.62 1.62 0 00-.003.14c.013.582.146 1.284.293 1.87.143.572.344 1.208.57 1.668.907 1.952 2.495 3.846 4.023 5.402a46.034 46.034 0 005.138 4.51l.03.025.023.018c.339.34 1.055 1.05 2.331 1.05h.038c.361 0 1.224 0 1.996-.752l.063-.053.273-.227.006-.005c.847-.698 2.828-2.33 4.782-4.301 1.25-1.254 2.547-2.71 3.538-4.214.135-.204.265-.41.388-.617.049-.08.09-.166.123-.255.044-.115.065-.16.082-.194.019-.037.05-.093.131-.219.057-.089.106-.183.145-.281.055-.14.095-.235.127-.299l.006-.013a1.62 1.62 0 00.285-.562c.243-.863.41-1.623.426-2.558 0-.043 0-.086-.003-.129a10.365 10.365 0 00.003-.31C30.788 10.697 27.308 7 22.98 7c-1.641 0-3.238.508-4.498 1.532C17.119 7.545 15.547 7 13.836 7zm13.744 8.066v.042l-.002.15v.008l-.002.137c0 .015 0 .041.002.074-.014.44-.084.837-.233 1.402a3.667 3.667 0 00-.151.278c-.064.13-.122.265-.174.39a4.472 4.472 0 00-.376.738c-.076.125-.156.25-.24.378l-.002.002c-.823 1.25-1.954 2.534-3.13 3.713l-.003.003c-1.835 1.851-3.712 3.4-4.55 4.09l-.062.051-.235.195-.092-.091a3.812 3.812 0 00-.294-.254l-.012-.01a42.76 42.76 0 01-4.82-4.226l-.006-.006c-1.452-1.477-2.736-3.062-3.406-4.512a1.665 1.665 0 00-.021-.046c-.075-.15-.213-.533-.338-1.033a6.736 6.736 0 01-.193-1.074 1.837 1.837 0 000-.2v-.008a6.941 6.941 0 01-.003-.193c0-2.667 2.154-4.827 4.6-4.827 1.285 0 2.5.523 3.588 1.653a1.618 1.618 0 002.491-.193c.642-.914 1.732-1.46 3.064-1.46 2.444 0 4.6 2.162 4.6 4.827v.002z\"\n                  fill-opacity=\"0.9\"\n                ></path>\n              </svg>\n              <span class=\"meta-text text-ellipsis\">{{ item?.count_likes || 0 }}</span>\n            </div>\n          </div>\n        </div>\n      </router-link>\n      <Skeleton v-if=\"loadingMore\" type=\"recommend-movies\" :count=\"5\" />\n      <div v-else-if=\"hasMorePages\" class=\"load-more-btn\" @click=\"loadMore\">\n        点击加载更多\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toRefs } from 'vue';\nimport { useCollectionPostsQuery } from '@/graphql';\nimport Skeleton from '@/components/Skeleton.vue';\n\nexport default {\n  props: {\n    collection: {\n      type: Object\n    }\n  },\n  components: {\n    Skeleton\n  },\n  setup(props) {\n    const { collection } = toRefs(props);\n\n    const { collectionPosts, currentCollection, hasMorePages, loadingMore, loadMore } = useCollectionPostsQuery(\n      { id: collection.value?.id, page: 1 },\n      { enabled: !!collection.value?.id }\n    );\n\n    return { collection, collectionPosts, currentCollection, hasMorePages, loadingMore, loadMore };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.module-wrap {\n  margin: 0 0 36px;\n  .section-title {\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 26px;\n    color: var(--theme-text-primary);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    .flex-row {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      &.space-between {\n        justify-content: space-between;\n      }\n    }\n    .meta-info {\n      color: #999;\n      font-size: 13px;\n      line-height: 20px;\n    }\n    .margin-top {\n      margin-top: 8px;\n    }\n  }\n}\n.video-list {\n  .item-wrap {\n    display: block;\n    margin-top: 24px;\n    .rc-item {\n      display: flex;\n      height: 90px;\n      width: 100%;\n      &:hover {\n        .cover-img {\n          transform: scale(1.2);\n        }\n        .info-title {\n          color: $theme-color_primary;\n        }\n      }\n    }\n  }\n}\n.item-cover {\n  border-radius: 4px;\n  flex-shrink: 0;\n  width: 120px;\n  height: 90px;\n  margin-right: 10px;\n  overflow: hidden;\n  position: relative;\n  cursor: pointer;\n  .cover-img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: all 2s linear;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 2px;\n      object-fit: cover;\n      background: #f1f2f5;\n    }\n  }\n}\n.item-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  overflow: hidden;\n  .info-title {\n    display: block;\n    height: 48px;\n    line-height: 24px;\n    font-size: 16px;\n    font-weight: 500;\n    color: #393939;\n    transition: color 0.3s ease;\n  }\n  .info-meta {\n    height: 28px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    &.on,\n    &:hover {\n      color: $theme-color_primary;\n    }\n    .icon {\n      width: 20px;\n      height: 20px;\n      margin-right: 4px;\n      fill: #999;\n    }\n    .meta-text {\n      flex: 1;\n      color: #999;\n      font-size: 13px;\n      font-weight: 700;\n      line-height: 20px;\n    }\n  }\n}\n.load-more-btn {\n  width: 100%;\n  margin-top: 24px;\n  border: 1px solid #eff0f3;\n  border-radius: 4px;\n  color: #999;\n  cursor: pointer;\n  font-size: 12px;\n  line-height: 32px;\n  text-align: center;\n  background-color: transparent;\n}\n</style>\n","\nimport { toRefs } from 'vue';\nimport { useCollectionPostsQuery } from '@/graphql';\nimport Skeleton from '@/components/Skeleton.vue';\n\nexport default {\n  props: {\n    collection: {\n      type: Object\n    }\n  },\n  components: {\n    Skeleton\n  },\n  setup(props) {\n    const { collection } = toRefs(props);\n\n    const { collectionPosts, currentCollection, hasMorePages, loadingMore, loadMore } = useCollectionPostsQuery(\n      { id: collection.value?.id, page: 1 },\n      { enabled: !!collection.value?.id }\n    );\n\n    return { collection, collectionPosts, currentCollection, hasMorePages, loadingMore, loadMore };\n  }\n};\n","import { render } from \"./CollectionVideos.vue?vue&type=template&id=178d8e25&scoped=true\"\nimport script from \"./CollectionVideos.vue?vue&type=script&lang=ts\"\nexport * from \"./CollectionVideos.vue?vue&type=script&lang=ts\"\n\nimport \"./CollectionVideos.vue?vue&type=style&index=0&id=178d8e25&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-178d8e25\"\n\nexport default script","<template>\n  <div class=\"user-info\">\n    <div class=\"module-start\">\n      <a class=\"user-avatar\" rel=\"noopener noreferrer\" :href=\"`/user/${user?.id}`\">\n        <img v-if=\"user?.avatar\" class=\"avatar-img\" :src=\"user?.avatar\" alt=\"\" />\n      </a>\n    </div>\n    <a class=\"module-detail\" rel=\"noopener noreferrer\" :href=\"`/user/${user?.id}`\">\n      <div class=\"user-title\">\n        <div class=\"user-name webkit-text-ellipsis\">\n          <span>\n            {{ user?.name || '匿名用户' }}\n          </span>\n        </div>\n      </div>\n      <div class=\"user-meta\">\n        <p class=\"meta-item\">\n          <span class=\"meta-name\">粉丝</span>\n          <span class=\"meta-count\">{{ user?.count_followers || 0 }}</span>\n        </p>\n        <p class=\"meta-item\">\n          <span class=\"meta-name\">获赞</span>\n          <span class=\"meta-count\">{{ user?.count_likes || 0 }}</span>\n        </p>\n      </div>\n    </a>\n    <div v-if=\"user\" class=\"button-wrap\">\n      <FollowButton :user=\"user\" size=\"small\" :round=\"false\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport FollowButton from '@/components/FollowButton.vue';\n\nexport default {\n  props: {\n    user: Object\n  },\n  components: {\n    FollowButton\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-info {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.module-start {\n  position: relative;\n  .user-avatar {\n    display: block;\n    width: 70px;\n    height: 70px;\n    border-radius: 35px;\n    background-color: #e6e7ee;\n    border: 1px solid #f1f2f5;\n    overflow: hidden;\n    position: relative;\n    .avatar-img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n}\n.module-detail {\n  margin-left: 10px;\n  flex: 1;\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n}\n.user-title {\n  display: flex;\n  align-items: center;\n  margin-bottom: 3px;\n  .user-name {\n    margin-right: 10px;\n    flex: 1;\n    max-height: 48px;\n    font-size: 15px;\n    font-weight: 500;\n    color: #2f3035;\n    line-height: 24px;\n  }\n  .user-score {\n    font-size: 20px;\n    font-weight: 700;\n    color: $theme-color_secondary;\n    line-height: 28px;\n  }\n}\n.user-meta {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  font-size: 12px;\n  line-height: 18px;\n  color: var(--theme-text-primary);\n  .meta-item {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .meta-name {\n    font-weight: 500;\n    margin-right: 5px;\n    color: var(--theme-text-secondary);\n  }\n  .meta-count {\n    font-weight: 700;\n    margin-right: 10px;\n  }\n}\n.button-wrap :deep(.el-button) {\n  font-size: 14px;\n  font-weight: bold;\n  padding: 8px 16px;\n  border-radius: calc(var(--el-border-radius-base));\n}\n</style>\n","\nimport FollowButton from '@/components/FollowButton.vue';\n\nexport default {\n  props: {\n    user: Object\n  },\n  components: {\n    FollowButton\n  }\n};\n","import { render } from \"./AuthorInfo.vue?vue&type=template&id=4387ed02&scoped=true\"\nimport script from \"./AuthorInfo.vue?vue&type=script&lang=ts\"\nexport * from \"./AuthorInfo.vue?vue&type=script&lang=ts\"\n\nimport \"./AuthorInfo.vue?vue&type=style&index=0&id=4387ed02&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4387ed02\"\n\nexport default script","<template>\n  <div class=\"video-toolbar\">\n    <ul class=\"user-operation\">\n      <li class=\"operation-item\">\n        <div :class=\"['op-button', liked && 'active']\" v-auth:click=\"favoriteHandler\">\n          <svg\n            t=\"1632905874356\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"40911\"\n          >\n            <path\n              d=\"M720.398507 959.573333c73.045333 31.317333 136.96-15.317333 129.706666-94.293333l-20.650666-226.218667 174.634666-199.722666c38.144-43.648 19.2-102.229333-37.418666-115.114667l-258.474667-58.794667-135.68-228.010666c-29.738667-49.877333-91.306667-49.92-121.045333 0L315.74784 265.429333 57.273173 324.224C0.953173 337.066667-18.33216 395.648 19.854507 439.338667l174.634666 199.722666-24.021333 264.405334c-5.248 57.770667 44.544 94.037333 97.877333 71.125333l243.626667-104.533333 208.426667 89.472z\"\n              p-id=\"40912\"\n            ></path>\n          </svg>\n          <span>{{ count_likes || 0 }}</span>\n        </div>\n      </li>\n      <li class=\"operation-item hide-xs\">\n        <el-popover\n          placement=\"bottom-start\"\n          popper-class=\"share-popper\"\n          trigger=\"hover\"\n          :show-arrow=\"false\"\n          :width=\"360\"\n        >\n          <template #reference>\n            <div class=\"op-button\">\n              <svg\n                fill=\"#909090\"\n                t=\"1632905818952\"\n                class=\"icon\"\n                viewBox=\"0 0 1024 1024\"\n                version=\"1.1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                p-id=\"39381\"\n                width=\"90\"\n                height=\"90\"\n              >\n                <path\n                  d=\"M1014.88968 411.786477l-364.412811-400.854093c-14.576512-14.576512-36.441281-14.576512-51.017794 0C584.882562 25.508897 584.882562 32.797153 584.882562 47.373665l0 211.359431c-298.818505 0-583.060498 247.800712-583.060498 546.619217 0 80.170819 36.441281 182.206406 72.882562 218.647687 43.729537-225.935943 269.66548-400.854093 510.177936-400.854093 0 21.864769 0 218.647687 0 218.647687 0 7.288256 0 14.576512 7.288256 29.153025 14.576512 14.576512 43.729537 7.288256 51.017794 0l364.412811-393.565836C1022.177936 462.80427 1022.177936 448.227758 1022.177936 440.939502 1022.177936 433.651246 1022.177936 419.074733 1014.88968 411.786477z\"\n                  p-id=\"39382\"\n                ></path>\n              </svg>\n              <span>分享</span>\n            </div>\n          </template>\n          <div class=\"share-popover\">\n            <img src=\"@/assets/group.png\" class=\"qrcode\" alt=\"二维码\" />\n            <div class=\"link-wrap\">\n              <p class=\"title\">扫描左侧二维码可加入QQ群求影视资源、复制播放地址分享给好友一起刷视频</p>\n              <div class=\"link-box\">\n                <div class=\"link-text\" id=\"link-text\">{{ videoLink || '链接出错啦！！！' }}</div>\n                <div class=\"copy-link\" @click=\"copyVideoLink\">复制</div>\n              </div>\n            </div>\n          </div>\n        </el-popover>\n      </li>\n      <li class=\"operation-item download-app\">\n        <div class=\"op-button\" @click=\"downloadApp\">\n          <svg\n            t=\"1632899144543\"\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"16900\"\n            width=\"90\"\n            height=\"90\"\n          >\n            <path\n              d=\"M757.76 30.72l-512 0C197.973333 30.72 160.426667 68.266667 160.426667 116.053333l0 791.893333c0 47.786667 37.546667 88.746667 88.746667 88.746667l215.04 0L580.266667 996.693333l177.493333 0c47.786667 0 88.746667-37.546667 88.746667-88.746667L846.506667 116.053333C846.506667 68.266667 808.96 30.72 757.76 30.72zM419.84 92.16l170.666667 0c6.826667 0 13.653333 6.826667 13.653333 13.653333s-6.826667 13.653333-13.653333 13.653333l-170.666667 0c-6.826667 0-13.653333-6.826667-13.653333-13.653333S409.6 92.16 419.84 92.16zM501.76 928.426667c-34.133333 0-61.44-27.306667-61.44-61.44 0-34.133333 27.306667-61.44 61.44-61.44s61.44 27.306667 61.44 61.44C563.2 901.12 535.893333 928.426667 501.76 928.426667z\"\n              p-id=\"16901\"\n            ></path>\n          </svg>\n          <span>用APP看</span>\n        </div>\n      </li>\n    </ul>\n    <div class=\"report-button\" v-auth:click=\"showReportModal\">\n      <img class=\"icon\" src=\"@/assets/report.svg\" alt=\"举报\" />\n      <span>举报</span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, toRefs } from 'vue';\nimport { debounce } from 'lodash';\nimport { ElMessage } from 'element-plus';\nimport useClipboard from 'vue-clipboard3';\nimport { useLikeMutation } from '@/graphql';\n\nexport default {\n  props: {\n    post: Object\n  },\n  setup(props) {\n    const { post } = toRefs(props);\n    const liked = ref(post.value?.liked || false);\n    const count_likes = ref(post.value?.count_likes || 0);\n    const link = post.value?.id\n      ? `#${post.value?.description || ''}#，精彩视频，邀您来观看！` + `https://juhaokantv.com/video/${post.value?.id}`\n      : '';\n    const videoLink = ref(link);\n\n    const { toggleLike, onDone, onError } = useLikeMutation(\n      { id: post.value?.id, type: 'POST' },\n      { fetchPolicy: 'network-only' }\n    );\n\n    onDone(({ data }) => {\n      if (data) {\n        liked.value = data?.toggleLike?.isLiked;\n        ElMessage({\n          message: `${data?.toggleLike?.isLiked ? '已点赞!' : '取消点赞！'}`,\n          type: 'success'\n        });\n      }\n    });\n    onError(() => {\n      liked.value ? count_likes.value-- : count_likes.value++;\n    });\n\n    const favoriteHandler = debounce(() => {\n      liked.value ? count_likes.value-- : count_likes.value++;\n      liked.value = !liked.value;\n      toggleLike();\n    }, 500);\n\n    const { toClipboard } = useClipboard();\n    async function copyVideoLink() {\n      if (videoLink.value) {\n        try {\n          await toClipboard(videoLink.value);\n          ElMessage({ message: '复制成功', type: 'success' });\n        } catch (error) {\n          ElMessage({ message: '复制失败', type: 'error' });\n        }\n      } else {\n        ElMessage({ message: '链接出错', type: 'error' });\n      }\n    }\n\n    function watchTogether() {\n      ElMessage({\n        message: '即将上线，敬请期待',\n        type: 'info'\n      });\n    }\n\n    return {\n      videoLink,\n      liked,\n      count_likes,\n      favoriteHandler,\n      copyVideoLink,\n      watchTogether\n    };\n  },\n  methods: {\n    showReportModal() {\n      this.$bus.emit('SHOW_REPORT_MODAL', { id: this.post.id, title: '举报视频', type: 'posts' });\n    },\n    downloadApp() {\n      window.open('https://juhaokantv.com/app', '_blank').focus();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.video-toolbar {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.operation-item {\n  display: inline-block;\n  position: relative;\n  margin-right: 20px;\n  white-space: nowrap;\n  cursor: pointer;\n  transition: all 0.3s;\n  .op-button {\n    display: flex;\n    align-items: center;\n    padding: 0 5px;\n    height: 30px;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgba(47, 48, 53, 0.9);\n    &:hover {\n      color: var(--theme-text-primary);\n      .icon {\n        fill: var(--theme-text-primary);\n      }\n    }\n    &.active {\n      .icon {\n        fill: $theme-color_primary;\n      }\n    }\n    .icon {\n      width: 28px;\n      height: 26px;\n      fill: rgba(47, 48, 53, 0.9);\n      margin-right: 6px;\n      &.watch-together {\n        margin-right: 10px;\n      }\n    }\n  }\n  @media screen and (max-width: $col-sm-width - 1px) {\n    margin-right: 15px;\n    .op-button {\n      .icon {\n        width: 24px;\n        height: 22px;\n      }\n    }\n  }\n}\n.report-button {\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  line-height: 20px;\n  color: var(--theme-text-secondary);\n  cursor: pointer;\n  .icon {\n    width: 20px;\n    height: 20px;\n    margin-right: 4px;\n  }\n}\n.el-popover.share-popper {\n  .share-popover {\n    display: flex;\n    margin: 4px;\n    .qrcode {\n      width: 60px;\n      height: 60px;\n      margin: auto;\n      background-color: #eeeeee;\n    }\n    .link-wrap {\n      flex: 1;\n      width: 0;\n      margin-left: 12px;\n      .title {\n        color: rgba(47, 48, 53, 0.7);\n        margin-bottom: 10px;\n      }\n      .link-box {\n        display: flex;\n        color: rgba(47, 48, 53, 0.4);\n        font-size: 14px;\n        line-height: 20px;\n        border-radius: 5px;\n        overflow: hidden;\n        background-color: #f1f2f5;\n        .link-text {\n          flex: 1;\n          padding: 6px 10px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .copy-link {\n          color: #fff;\n          font-weight: 500;\n          letter-spacing: 0.2rem;\n          cursor: pointer;\n          padding: 6px 16px;\n          background-color: #fe2c55;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport { ref, toRefs } from 'vue';\nimport { debounce } from 'lodash';\nimport { ElMessage } from 'element-plus';\nimport useClipboard from 'vue-clipboard3';\nimport { useLikeMutation } from '@/graphql';\n\nexport default {\n  props: {\n    post: Object\n  },\n  setup(props) {\n    const { post } = toRefs(props);\n    const liked = ref(post.value?.liked || false);\n    const count_likes = ref(post.value?.count_likes || 0);\n    const link = post.value?.id\n      ? `#${post.value?.description || ''}#，精彩视频，邀您来观看！` + `https://juhaokantv.com/video/${post.value?.id}`\n      : '';\n    const videoLink = ref(link);\n\n    const { toggleLike, onDone, onError } = useLikeMutation(\n      { id: post.value?.id, type: 'POST' },\n      { fetchPolicy: 'network-only' }\n    );\n\n    onDone(({ data }) => {\n      if (data) {\n        liked.value = data?.toggleLike?.isLiked;\n        ElMessage({\n          message: `${data?.toggleLike?.isLiked ? '已点赞!' : '取消点赞！'}`,\n          type: 'success'\n        });\n      }\n    });\n    onError(() => {\n      liked.value ? count_likes.value-- : count_likes.value++;\n    });\n\n    const favoriteHandler = debounce(() => {\n      liked.value ? count_likes.value-- : count_likes.value++;\n      liked.value = !liked.value;\n      toggleLike();\n    }, 500);\n\n    const { toClipboard } = useClipboard();\n    async function copyVideoLink() {\n      if (videoLink.value) {\n        try {\n          await toClipboard(videoLink.value);\n          ElMessage({ message: '复制成功', type: 'success' });\n        } catch (error) {\n          ElMessage({ message: '复制失败', type: 'error' });\n        }\n      } else {\n        ElMessage({ message: '链接出错', type: 'error' });\n      }\n    }\n\n    function watchTogether() {\n      ElMessage({\n        message: '即将上线，敬请期待',\n        type: 'info'\n      });\n    }\n\n    return {\n      videoLink,\n      liked,\n      count_likes,\n      favoriteHandler,\n      copyVideoLink,\n      watchTogether\n    };\n  },\n  methods: {\n    showReportModal() {\n      this.$bus.emit('SHOW_REPORT_MODAL', { id: this.post.id, title: '举报视频', type: 'posts' });\n    },\n    downloadApp() {\n      window.open('https://juhaokantv.com/app', '_blank').focus();\n    }\n  }\n};\n","import { render } from \"./VideoToolbar.vue?vue&type=template&id=b131e582&scoped=true\"\nimport script from \"./VideoToolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoToolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoToolbar.vue?vue&type=style&index=0&id=b131e582&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b131e582\"\n\nexport default script","\nimport { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { usePostQuery, useRelatedMoviesQuery } from '@/graphql';\nimport DPlayer from '@/components/player/DPlayer.vue';\nimport CommentModule from '@/components/comment/CommentModule.vue';\nimport CollectionVideos from '@/components/CollectionVideos.vue';\nimport RCMovieItem from '@/components/RCMovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport AuthorInfo from './parts/AuthorInfo.vue';\nimport VideoToolbar from './parts/VideoToolbar.vue';\n\nexport default {\n  name: 'VideoDetail',\n  components: {\n    DPlayer,\n    CommentModule,\n    RCMovieItem,\n    Skeleton,\n    AuthorInfo,\n    VideoToolbar,\n    CollectionVideos\n  },\n\n  setup(props) {\n    const route = useRoute();\n    const postId = ref(Number(route.params?.id));\n    const { post } = usePostQuery({ id: postId });\n    watch(route, (value, prevValue) => {\n      postId.value = Number(value.params?.id);\n    });\n\n    const videoSource = ref(post.value?.video);\n    const collection = ref(post.value?.collections?.[0] || {});\n    watch(post, (val, prevValue) => {\n      videoSource.value = val?.video;\n      collection.value = val?.collections[0] || {};\n    });\n\n    const { relatedMovies } = useRelatedMoviesQuery({\n      movie_id: 1,\n      limit: 12\n    });\n\n    return {\n      post,\n      collection,\n      videoSource,\n      relatedMovies\n    };\n  },\n  methods: {\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    }\n  },\n  data() {\n    return {\n      isCollapse: true\n    };\n  }\n};\n","import { render } from \"./VideoDetail.vue?vue&type=template&id=71a8d7ec&scoped=true\"\nimport script from \"./VideoDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoDetail.vue?vue&type=style&index=0&id=71a8d7ec&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-71a8d7ec\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./VideoDetail.vue?vue&type=style&index=0&id=71a8d7ec&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./CollectionVideos.vue?vue&type=style&index=0&id=178d8e25&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./AuthorInfo.vue?vue&type=style&index=0&id=4387ed02&lang=scss&scoped=true\""],"sourceRoot":""}