(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7de0501c"],{a55b:function(e,t,n){"use strict";n.r(t);var a=n("7a23");Object(a["P"])("data-v-77ec995f");var c={id:"scene-container"},r={class:"content-container"},o=Object(a["p"])(" +86 "),i={class:"form-label"},u={class:"label-btn"},l=Object(a["p"])("忘记密码?"),s=Object(a["n"])("p",{class:"agreement"},[Object(a["p"])(" 登录即表示已阅读并同意 "),Object(a["n"])("a",{class:"link-text",href:"/video/82666",target:"_blank"},"《用户协议》"),Object(a["p"])(" 和 "),Object(a["n"])("a",{class:"link-text",href:"/video/82665",target:"_blank"},"《隐私政策》")],-1);function b(e,t,n,b,d,f){var m=Object(a["V"])("Header"),p=Object(a["V"])("el-input"),O=Object(a["V"])("el-form-item"),j=Object(a["V"])("router-link"),g=Object(a["V"])("el-button"),v=Object(a["V"])("el-form"),h=Object(a["W"])("loading");return Object(a["M"])(),Object(a["m"])(a["b"],null,[Object(a["q"])(m,{title:e.activeName},null,8,["title"]),Object(a["lb"])(Object(a["n"])("div",c,[Object(a["n"])("div",r,[Object(a["q"])(v,{ref:"loginForm",model:e.formData,rules:e.rules,class:"login-form"},{default:Object(a["kb"])((function(){return[Object(a["q"])(O,{label:"手机号",prop:"account"},{default:Object(a["kb"])((function(){return[Object(a["q"])(p,{name:"formData-account",autocomplete:"",class:"account-input",modelValue:e.formData.account,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.account=t}),placeholder:"请输入手机号",clearable:"",maxlength:"11"},{prefix:Object(a["kb"])((function(){return[o]})),_:1},8,["modelValue"])]})),_:1}),Object(a["q"])(O,{label:"密 码",prop:"password"},{default:Object(a["kb"])((function(){return[Object(a["q"])(p,{modelValue:e.formData.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.password=t}),placeholder:"请输入密码","show-password":"",maxlength:"12"},null,8,["modelValue"])]})),_:1}),Object(a["n"])("div",i,[Object(a["n"])("p",{class:"tab-item",onClick:t[2]||(t[2]=function(){return e.toggleForm&&e.toggleForm.apply(e,arguments)})},[Object(a["n"])("span",u,Object(a["Z"])("登录"===e.activeName?"没有账号？去注册":"已有账号！去登录"),1)]),Object(a["n"])("p",{class:"tab-item",onClick:t[3]||(t[3]=function(){return e.sendVerifyCode&&e.sendVerifyCode.apply(e,arguments)})},[Object(a["q"])(j,{to:"/getpass"},{default:Object(a["kb"])((function(){return[l]})),_:1})])]),Object(a["q"])(O,{class:"button-wrap"},{default:Object(a["kb"])((function(){return[Object(a["q"])(g,{type:"primary",disabled:e.disabled,onClick:e.submitForm,class:"submit-button"},{default:Object(a["kb"])((function(){return[Object(a["p"])(Object(a["Z"])(e.activeName),1)]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1},8,["model","rules"]),s])],512),[[h,e.loading,void 0,{fullscreen:!0,lock:!0}]])],64)}Object(a["N"])();var d=n("3835"),f=n("1da1"),m=(n("96cf"),n("99af"),n("6c02")),p=n("4995"),O=n("f3e7"),j=n("a684"),g=n("0613"),v=Object(a["r"])({setup:function(e,t){var n=Object(m["d"])(),c=Object(a["R"])("登录"),r=Object(a["R"])(!1),o=Object(a["R"])({account:"",password:""}),i=Object(j["K"])(o.value),u=i.signInMutate,l=Object(j["L"])(o.value),s=l.signUpMutate;function b(){var e="登录"===c.value?"注册":"登录";c.value=e}function v(e){p["a"].error("".concat(c.value,"出错：").concat(Object(O["a"])(e)))}function h(e){Object(p["a"])({message:"".concat(c.value,"成功!"),type:"success"}),g["c"].commit(g["b"].USER_LOGIN,e),g["a"].setItem("user",e),window.location.reload(),n.go(-1)}function w(){return k.apply(this,arguments)}function k(){return k=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,Object(O["b"])((function(){return u()}));case 3:t=e.sent,n=Object(d["a"])(t,2),a=n[0],c=n[1],r.value=!1,a?(console.log("signIn err",a),v(a)):null!==c&&void 0!==c&&c.data.signIn&&h(null===c||void 0===c?void 0:c.data.signIn);case 9:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function V(){return _.apply(this,arguments)}function _(){return _=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,Object(O["b"])((function(){return s()}));case 3:t=e.sent,n=Object(d["a"])(t,2),a=n[0],c=n[1],r.value=!1,a?v(a):null!==c&&void 0!==c&&c.data.signUp&&h(null===c||void 0===c?void 0:c.data.signUp);case 9:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}return{activeName:c,toggleActiveTab:b,loading:r,formData:o,onSignIn:w,onSignUp:V}},computed:{disabled:function(){return!this.formData.account||!this.formData.password}},methods:{submitForm:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;"登录"===e.activeName?e.onSignIn():e.onSignUp()}))},toggleForm:function(){this.$refs.loginForm.resetFields(),this.toggleActiveTab()}},data:function(){return{rules:{account:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,message:"手机号长度不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"密码格式不正确（6-12）位",trigger:"blur"}]}}}});n("a808");v.render=b,v.__scopeId="data-v-77ec995f";t["default"]=v},a808:function(e,t,n){"use strict";n("e4ae")},e4ae:function(e,t,n){}}]);
//# sourceMappingURL=chunk-7de0501c.583e54f6.js.map