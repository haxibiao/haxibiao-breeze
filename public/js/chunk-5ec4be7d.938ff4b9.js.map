{"version":3,"sources":["webpack:///./src/views/Category.vue?a2e0","webpack:///./src/views/Category.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/views/Category.vue?34cf","webpack:///./src/components/LoadingSpinner.vue?5722","webpack:///./src/components/LoadingSpinner.vue","webpack:///./src/components/LoadingSpinner.vue?21a6"],"names":["id","class","infinite-scroll-distance","infinite-scroll-disabled","Tags","tag","key","title","options","option","index","handleFilter","value","filterTags","loading","type","categoryMovie","movie","to","loadMore","hasMorePages","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","CATEGORY_TAGS","components","MovieItem","LoadingSpinner","Skeleton","setup","props","count","useItemsPerRow","variables","first","disabled","render","__scopeId"],"mappings":"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","file":"js/chunk-5ec4be7d.938ff4b9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Category.vue?vue&type=style&index=0&id=9e4d6502&lang=scss&scoped=true\"","<template>\n  <div id=\"category\">\n    <div class=\"fluid-content\">\n      <div class=\"category-tags\">\n        <div class=\"tags-container\">\n          <dl v-for=\"tag in Tags\" :key=\"tag.id\">\n            <dt class=\"tag-title\">\n              <span>{{ tag.title }}</span>\n            </dt>\n            <dd>\n              <a\n                @click=\"handleFilter(tag.id, tag.value[index])\"\n                v-for=\"(option, index) in tag.options\"\n                :key=\"option\"\n                :class=\"['tag-label', filterTags[tag.id] === tag.value[index] && 'active']\"\n                >{{ option }}\n              </a>\n            </dd>\n          </dl>\n        </div>\n      </div>\n      <div class=\"category-movies\">\n        <Skeleton v-if=\"loading\" type=\"movies\" />\n        <ul\n          v-else\n          class=\"grid-items\"\n          v-infinite-scroll=\"loadMore\"\n          infinite-scroll-distance=\"500\"\n          infinite-scroll-disabled=\"disabled\"\n        >\n          <router-link class=\"item-wrap\" v-for=\"movie in categoryMovie\" :key=\"movie.id\" :to=\"`/movie/${movie.id}`\">\n            <MovieItem :movie=\"movie\" />\n          </router-link>\n        </ul>\n        <LoadingSpinner v-if=\"hasMorePages\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, reactive } from 'vue';\nimport MovieItem from '@/components/MovieItem.vue';\nimport Skeleton from '@/components/Skeleton.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport useItemsPerRow from '@/components/hooks/useItemsPerRow';\nimport { useCategoryMovieQuery } from '@/graphql';\n\nconst CATEGORY_TAGS = [\n  {\n    id: 'region',\n    title: '地区',\n    options: ['全部', '韩剧', '日剧', '美剧', '港剧'],\n    value: ['ALL', 'HAN', 'RI', 'MEI', 'GANG']\n  },\n  {\n    id: 'year',\n    title: '时间',\n    options: ['全部', '2021', '2020', '2019', '2018', '2017', '2016'],\n    value: ['ALL', '2021', '2020', '2019', '2018', '2017', '2016']\n  },\n  {\n    id: 'scopes',\n    title: '排序',\n    options: ['全部', '最新', '最热', '评分'],\n    value: ['ALL', 'NEW', 'HOT', 'SCORE']\n  }\n];\n\nexport default {\n  components: {\n    MovieItem,\n    LoadingSpinner,\n    Skeleton\n  },\n  setup(props) {\n    const count = useItemsPerRow('--column-movie-items-per-row');\n\n    const Tags = reactive(CATEGORY_TAGS);\n    const filterTags = ref(\n      (function() {\n        const variables = {\n          first: count.value * 6\n        };\n        for (const tag of Tags) {\n          variables[tag.id] = tag.value[0];\n        }\n        return variables;\n      })()\n    );\n    function handleFilter(key, value) {\n      filterTags.value[key] = value;\n    }\n    const { loading, disabled, loadMore, hasMorePages, categoryMovie } = useCategoryMovieQuery(filterTags);\n    return {\n      Tags,\n      filterTags,\n      handleFilter,\n      loading,\n      disabled,\n      loadMore,\n      hasMorePages,\n      categoryMovie\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.category-tags {\n  margin-top: 30px;\n  @media screen and (max-width: $col-sm-width) {\n    margin-top: 24px;\n  }\n}\n.tags-container {\n  dl {\n    display: flex;\n    margin-top: 18px;\n    dd {\n      flex: 1;\n      display: flex;\n      flex-wrap: wrap;\n    }\n  }\n  .tag-title {\n    margin-right: 24px;\n    margin-bottom: 10px;\n    height: 32px;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 32px;\n    color: var(--theme-text-primary);\n  }\n  .tag-label {\n    margin-right: 12px;\n    margin-bottom: 10px;\n    display: block;\n    padding: 0 12px;\n    min-width: 72px;\n    height: 32px;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 30px;\n    color: #2f3035;\n    text-align: center;\n    border: 1px solid transparent;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      color: $theme-color_primary;\n    }\n    &.active {\n      border: 1px solid $theme-color_primary;\n      color: $theme-color_primary;\n    }\n  }\n  @media screen and (max-width: $col-sm-width) {\n    dl {\n      margin-top: 10px;\n      .tag-label {\n        margin-right: 0;\n      }\n    }\n  }\n}\n\n.category-movies {\n  margin-top: 24px;\n}\n</style>\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import { render } from \"./Category.vue?vue&type=template&id=9e4d6502&scoped=true\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\n\nimport \"./Category.vue?vue&type=style&index=0&id=9e4d6502&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9e4d6502\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./LoadingSpinner.vue?vue&type=style&index=0&id=5999f142&lang=scss&scoped=true\"","<template>\n  <div class=\"ld-container\">\n    <div class=\"ld-ellipsis\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  setup() {\n    return {};\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ld-container {\n  display: flex;\n  justify-content: center;\n}\n.ld-ellipsis {\n  display: inline-block;\n  position: relative;\n  width: 76px;\n  height: 52px;\n}\n.ld-ellipsis div {\n  position: absolute;\n  top: 20px;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: $theme-color_primary;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n}\n.ld-ellipsis div:nth-child(1) {\n  left: 8px;\n  animation: ld-ellipsis1 0.6s infinite;\n}\n.ld-ellipsis div:nth-child(2) {\n  left: 8px;\n  animation: ld-ellipsis2 0.6s infinite;\n}\n.ld-ellipsis div:nth-child(3) {\n  left: 32px;\n  animation: ld-ellipsis2 0.6s infinite;\n}\n.ld-ellipsis div:nth-child(4) {\n  left: 56px;\n  animation: ld-ellipsis3 0.6s infinite;\n}\n@keyframes ld-ellipsis1 {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@keyframes ld-ellipsis3 {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n@keyframes ld-ellipsis2 {\n  0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(24px, 0);\n  }\n}\n</style>\n","import { render } from \"./LoadingSpinner.vue?vue&type=template&id=5999f142&scoped=true\"\nimport script from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingSpinner.vue?vue&type=style&index=0&id=5999f142&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5999f142\"\n\nexport default script"],"sourceRoot":""}