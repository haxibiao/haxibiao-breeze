{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/views/User.vue?45a0","webpack:///./src/views/User.vue?3dd2","webpack:///./src/views/User.vue?ea79"],"names":["id","class","user-id","userId","activeName","label","name","self","Tabs","posts","favorite","history","components","UserInfo","UserPosts","MoviesFavorite","MoviesHistory","props","setup","params","query","Number","value","String","tab","router","prevValue","replace","computed","me","this","$store","state","user","render","__scopeId"],"mappings":"gLAEOA,GAAG,mB,GACDC,MAAM,iB,GACJA,MAAM,e,GACJA,MAAM,iB,GAGNA,MAAM,a,GAGAA,MAAM,gB,GAKNA,MAAM,gB,GAKNA,MAAM,gB,oUApBvB,eAAY,GACZ,eA2BM,MA3BN,EA2BM,CA1BJ,eAyBM,MAzBN,EAyBM,CAxBJ,eAuBM,MAvBN,EAuBM,CAtBJ,eAEM,MAFN,EAEM,CADJ,eAA8B,GAAnBC,UAAS,EAAAC,QAAM,sBAE5B,eAkBM,MAlBN,EAkBM,CAjBJ,eAgBU,G,WAhBQ,EAAAC,W,qDAAA,EAAAA,WAAU,IAAEH,MAAM,Y,0BAClC,iBAIc,CAJd,eAIc,GAJDI,MAAM,KAAKC,KAAK,S,0BAC3B,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAA8B,GAAlBH,OAAQ,EAAAA,QAAM,yB,MAG9B,eAIc,GAJDE,MAAM,KAAKC,KAAK,Y,0BAC3B,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAAmC,GAAlBH,OAAQ,EAAAA,QAAM,yB,MAGhB,EAAAI,M,iBAAnB,eAIc,G,MAJWF,MAAM,KAAKC,KAAK,W,0BACvC,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAAkC,GAAlBH,OAAQ,EAAAA,QAAM,yB,gEAQ5C,eAAU,I,mHCtBNK,EAAO,CACXC,MAAO,QACPC,SAAU,WACVC,QAAS,WAGI,GACbC,WAAY,CACVC,WAAA,KACAC,YAAA,KACAC,iBAAA,KACAC,gBAAA,MAEFC,MAAO,CAAC,SAAU,SAClBC,MARa,SAQPD,GAAK,QACT,EAA0B,gBAAOA,GAAzBE,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,MACVjB,EAAS,eAAIkB,OAAM,UAACF,EAAOG,aAAR,aAAC,EAActB,KAClCI,EAAa,eAAII,EAAKe,OAAM,UAACH,EAAME,aAAP,aAAC,EAAaE,OAAShB,EAAKE,UACxDe,EAAS,iBAUf,OARA,gBAAML,GAAO,SAACE,EAAOI,GACnBtB,EAAWkB,MAAQd,EAAKe,OAAM,OAACD,QAAD,IAACA,OAAD,EAACA,EAAOE,OAAShB,EAAKE,YAGtD,gBAAMN,GAAY,SAACkB,EAAOI,GACxBD,EAAOE,QAAQ,CAAEP,MAAO,CAAEI,IAAKpB,EAAWkB,YAGrC,CACLnB,SACAC,eAGJwB,SAAU,CACRC,GADQ,WAEN,OAAOC,KAAKC,OAAOC,MAAMC,KAAKA,MAEhC1B,KAJQ,WAIJ,MACF,OAAOuB,KAAK3B,UAAL,UAAgB2B,KAAKD,UAArB,aAAgB,EAAS7B,O,UCzCtC,EAAOkC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W","file":"js/chunk-2bf6ea46.e0293f85.js","sourcesContent":["<template>\n  <Masthead />\n  <div id=\"scene-container\">\n    <div class=\"fluid-content\">\n      <div class=\"user-center\">\n        <div class=\"userinfo-wrap\">\n          <UserInfo :user-id=\"userId\" />\n        </div>\n        <div class=\"tabs-wrap\">\n          <el-tabs v-model=\"activeName\" class=\"ant-tabs\">\n            <el-tab-pane label=\"发布\" name=\"posts\">\n              <div class=\"pane-content\">\n                <UserPosts :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"收藏\" name=\"favorite\">\n              <div class=\"pane-content\">\n                <MoviesFavorite :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n            <el-tab-pane v-if=\"self\" label=\"记录\" name=\"history\">\n              <div class=\"pane-content\">\n                <MoviesHistory :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch, toRefs } from 'vue';\nimport { useRouter } from 'vue-router';\nimport UserInfo from '@/views/parts/UserInfo.vue';\nimport UserPosts from '@/views/parts/UserPosts.vue';\nimport MoviesFavorite from '@/views/parts/MoviesFavorite.vue';\nimport MoviesHistory from '@/views/parts/MoviesHistory.vue';\n\nconst Tabs = {\n  posts: 'posts',\n  favorite: 'favorite',\n  history: 'history'\n};\n\nexport default {\n  components: {\n    UserInfo,\n    UserPosts,\n    MoviesFavorite,\n    MoviesHistory\n  },\n  props: ['params', 'query'],\n  setup(props) {\n    const { params, query } = toRefs(props);\n    const userId = ref(Number(params.value?.id));\n    const activeName = ref(Tabs[String(query.value?.tab)] || Tabs.favorite);\n    const router = useRouter();\n\n    watch(query, (value, prevValue) => {\n      activeName.value = Tabs[String(value?.tab)] || Tabs.favorite;\n    });\n\n    watch(activeName, (value, prevValue) => {\n      router.replace({ query: { tab: activeName.value } });\n    });\n\n    return {\n      userId,\n      activeName\n    };\n  },\n  computed: {\n    me() {\n      return this.$store.state.user.user;\n    },\n    self() {\n      return this.userId === this.me?.id;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-center {\n  max-width: 975px;\n  margin: 0 auto;\n  padding-top: 30px;\n}\n.userinfo-wrap {\n  margin: 0 auto;\n  margin-bottom: 24px;\n  max-width: 656px;\n  width: 100%;\n  @media (min-width: $col-md-width) {\n    margin-bottom: 44px;\n  }\n}\n.tabs-wrap {\n  margin: 40px 0 15px;\n  .ant-tabs {\n    .pane-content {\n      min-height: 500px;\n    }\n  }\n}\n// 穿透 el-tabs style\n.ant-tabs {\n  :deep(.el-tabs__header) {\n    margin: 0;\n    .el-tabs__nav-wrap {\n      &::after {\n        content: '';\n        height: 0;\n      }\n      .el-tabs__nav-scroll {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: flex-start;\n        .el-tabs__nav .el-tabs__item {\n          width: 98px;\n          height: 35px;\n          margin: 0 6px;\n          padding: 0;\n          text-align: center;\n          border-bottom: 1px solid #eee;\n          color: #555;\n          font-size: 16px;\n          font-weight: normal;\n          line-height: 34px;\n          cursor: pointer;\n          &.is-active {\n            color: #000;\n            font-weight: 500;\n          }\n        }\n      }\n    }\n  }\n  :deep(.el-tabs__content) {\n    padding-top: 25px;\n  }\n}\n</style>\n","\nimport { ref, watch, toRefs } from 'vue';\nimport { useRouter } from 'vue-router';\nimport UserInfo from '@/views/parts/UserInfo.vue';\nimport UserPosts from '@/views/parts/UserPosts.vue';\nimport MoviesFavorite from '@/views/parts/MoviesFavorite.vue';\nimport MoviesHistory from '@/views/parts/MoviesHistory.vue';\n\nconst Tabs = {\n  posts: 'posts',\n  favorite: 'favorite',\n  history: 'history'\n};\n\nexport default {\n  components: {\n    UserInfo,\n    UserPosts,\n    MoviesFavorite,\n    MoviesHistory\n  },\n  props: ['params', 'query'],\n  setup(props) {\n    const { params, query } = toRefs(props);\n    const userId = ref(Number(params.value?.id));\n    const activeName = ref(Tabs[String(query.value?.tab)] || Tabs.favorite);\n    const router = useRouter();\n\n    watch(query, (value, prevValue) => {\n      activeName.value = Tabs[String(value?.tab)] || Tabs.favorite;\n    });\n\n    watch(activeName, (value, prevValue) => {\n      router.replace({ query: { tab: activeName.value } });\n    });\n\n    return {\n      userId,\n      activeName\n    };\n  },\n  computed: {\n    me() {\n      return this.$store.state.user.user;\n    },\n    self() {\n      return this.userId === this.me?.id;\n    }\n  }\n};\n","import { render } from \"./User.vue?vue&type=template&id=d00fbe36&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=ts\"\nexport * from \"./User.vue?vue&type=script&lang=ts\"\n\nimport \"./User.vue?vue&type=style&index=0&id=d00fbe36&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-d00fbe36\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./User.vue?vue&type=style&index=0&id=d00fbe36&lang=scss&scoped=true\""],"sourceRoot":""}