{"version":3,"sources":["webpack:///./src/views/Profile.vue?e439","webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?c284","webpack:///./src/views/Profile.vue?8484"],"names":["id","class","user-id","userId","activeName","label","name","Tabs","posts","favorite","history","components","Empty","UserInfo","UserPosts","MoviesFavorite","MoviesHistory","props","setup","store","state","user","query","String","value","tab","router","prevValue","replace","render","__scopeId"],"mappings":"2IAAA,W,kGCEOA,GAAG,mB,GACDC,MAAM,iB,GACJA,MAAM,e,GACJA,MAAM,iB,GAGNA,MAAM,a,GAGAA,MAAM,gB,GAKNA,MAAM,gB,GAKNA,MAAM,gB,ySApBvB,eAAY,GACZ,eA2BM,MA3BN,EA2BM,CA1BJ,eAyBM,MAzBN,EAyBM,CAxBJ,eAuBM,MAvBN,EAuBM,CAtBJ,eAEM,MAFN,EAEM,CADJ,eAA8B,GAAnBC,UAAS,EAAAC,QAAM,sBAE5B,eAkBM,MAlBN,EAkBM,CAjBJ,eAgBU,G,WAhBQ,EAAAC,W,qDAAA,EAAAA,WAAU,IAAEH,MAAM,Y,0BAClC,iBAIc,CAJK,EAAAE,Q,iBAAnB,eAIc,G,MAJaE,MAAM,KAAKC,KAAK,S,0BACzC,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAA8B,GAAlBH,OAAQ,EAAAA,QAAM,yB,6BAGX,EAAAA,Q,iBAAnB,eAIc,G,MAJaE,MAAM,KAAKC,KAAK,Y,0BACzC,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAAmC,GAAlBH,OAAQ,EAAAA,QAAM,yB,6BAGhB,EAAAA,Q,iBAAnB,eAIc,G,MAJaE,MAAM,KAAKC,KAAK,W,0BACzC,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAAkC,GAAlBH,OAAQ,EAAAA,QAAM,yB,kMCZxCI,EAAO,CACXC,MAAO,QACPC,SAAU,WACVC,QAAS,WAGI,GACbC,WAAY,CACVC,QAAA,WACAC,WAAA,KACAC,YAAA,KACAC,iBAAA,KACAC,gBAAA,MAEFC,MAAO,CAAC,SAAU,SAClBC,MATa,SASPD,GAAK,cACHE,EAAQ,iBACRhB,EAAS,eAAG,UAACgB,EAAMC,aAAP,iBAAC,EAAaC,YAAd,iBAAC,EAAmBA,YAApB,aAAC,EAAyBrB,IAC5C,EAAkB,gBAAOiB,GAAjBK,EAAR,EAAQA,MACFlB,EAAa,eAAIG,EAAKgB,OAAM,UAACD,EAAME,aAAP,aAAC,EAAaC,OAASlB,EAAKC,OACxDkB,EAAS,iBAgBf,OAdA,gBAAMJ,GAAO,SAACE,EAAOG,GACnBvB,EAAWoB,MAAQjB,EAAKgB,OAAM,OAACC,QAAD,IAACA,OAAD,EAACA,EAAOC,OAASlB,EAAKC,SAGtD,gBAAMJ,GAAY,SAACoB,EAAOG,GACxBD,EAAOE,QAAQ,CAAEN,MAAO,CAAEG,IAAKrB,EAAWoB,YAG5C,gBAAK,UAACL,EAAMC,aAAP,aAAC,EAAaC,MAAM,SAACG,EAAOG,GAAa,MACxC,UAACH,EAAMH,YAAP,OAAC,EAAYrB,IACf0B,EAAOE,QAAQ,QAIZ,CACLzB,SACAC,gB,UC3CN,EAAOyB,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2f2d7d28.db1a015b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=54675879&lang=scss&scoped=true\"","<template>\n  <Masthead />\n  <div id=\"scene-container\">\n    <div class=\"fluid-content\">\n      <div class=\"user-center\">\n        <div class=\"userinfo-wrap\">\n          <UserInfo :user-id=\"userId\" />\n        </div>\n        <div class=\"tabs-wrap\">\n          <el-tabs v-model=\"activeName\" class=\"ant-tabs\">\n            <el-tab-pane v-if=\"userId\" label=\"发布\" name=\"posts\">\n              <div class=\"pane-content\">\n                <UserPosts :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n            <el-tab-pane v-if=\"userId\" label=\"收藏\" name=\"favorite\">\n              <div class=\"pane-content\">\n                <MoviesFavorite :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n            <el-tab-pane v-if=\"userId\" label=\"记录\" name=\"history\">\n              <div class=\"pane-content\">\n                <MoviesHistory :userId=\"userId\" />\n              </div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, watch, toRefs } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Empty from '@/components/Empty.vue';\nimport UserInfo from '@/views/parts/UserInfo.vue';\nimport UserPosts from '@/views/parts/UserPosts.vue';\nimport MoviesFavorite from '@/views/parts/MoviesFavorite.vue';\nimport MoviesHistory from '@/views/parts/MoviesHistory.vue';\n\nconst Tabs = {\n  posts: 'posts',\n  favorite: 'favorite',\n  history: 'history'\n};\n\nexport default {\n  components: {\n    Empty,\n    UserInfo,\n    UserPosts,\n    MoviesFavorite,\n    MoviesHistory\n  },\n  props: ['params', 'query'],\n  setup(props) {\n    const store = useStore();\n    const userId = ref(store.state?.user?.user?.id);\n    const { query } = toRefs(props);\n    const activeName = ref(Tabs[String(query.value?.tab)] || Tabs.posts);\n    const router = useRouter();\n\n    watch(query, (value, prevValue) => {\n      activeName.value = Tabs[String(value?.tab)] || Tabs.posts;\n    });\n\n    watch(activeName, (value, prevValue) => {\n      router.replace({ query: { tab: activeName.value } });\n    });\n\n    watch(store.state?.user, (value, prevValue) => {\n      if (!value.user?.id) {\n        router.replace('/');\n      }\n    });\n\n    return {\n      userId,\n      activeName\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-center {\n  max-width: 975px;\n  margin: 0 auto;\n  padding-top: 30px;\n}\n.userinfo-wrap {\n  margin: 0 auto;\n  margin-bottom: 24px;\n  max-width: 656px;\n  width: 100%;\n  @media (min-width: $col-md-width) {\n    margin-bottom: 44px;\n  }\n}\n.tabs-wrap {\n  margin: 40px 0 15px;\n\n  // 穿透 el-tabs style\n  .ant-tabs {\n    min-height: 500px;\n    :deep(.el-tabs__header) {\n      margin: 0;\n      .el-tabs__nav-wrap {\n        &::after {\n          content: '';\n          height: 0;\n        }\n        .el-tabs__nav-scroll {\n          display: flex;\n          flex-direction: row;\n          justify-content: center;\n          align-items: flex-start;\n          .el-tabs__nav .el-tabs__item {\n            width: 98px;\n            height: 35px;\n            margin: 0 6px;\n            padding: 0;\n            text-align: center;\n            border-bottom: 1px solid #eee;\n            color: #555;\n            font-size: 16px;\n            font-weight: normal;\n            line-height: 34px;\n            cursor: pointer;\n            &.is-active {\n              color: #000;\n              font-weight: 500;\n            }\n          }\n        }\n      }\n    }\n    :deep(.el-tabs__content) {\n      padding-top: 25px;\n    }\n  }\n}\n</style>\n","\nimport { ref, watch, toRefs } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Empty from '@/components/Empty.vue';\nimport UserInfo from '@/views/parts/UserInfo.vue';\nimport UserPosts from '@/views/parts/UserPosts.vue';\nimport MoviesFavorite from '@/views/parts/MoviesFavorite.vue';\nimport MoviesHistory from '@/views/parts/MoviesHistory.vue';\n\nconst Tabs = {\n  posts: 'posts',\n  favorite: 'favorite',\n  history: 'history'\n};\n\nexport default {\n  components: {\n    Empty,\n    UserInfo,\n    UserPosts,\n    MoviesFavorite,\n    MoviesHistory\n  },\n  props: ['params', 'query'],\n  setup(props) {\n    const store = useStore();\n    const userId = ref(store.state?.user?.user?.id);\n    const { query } = toRefs(props);\n    const activeName = ref(Tabs[String(query.value?.tab)] || Tabs.posts);\n    const router = useRouter();\n\n    watch(query, (value, prevValue) => {\n      activeName.value = Tabs[String(value?.tab)] || Tabs.posts;\n    });\n\n    watch(activeName, (value, prevValue) => {\n      router.replace({ query: { tab: activeName.value } });\n    });\n\n    watch(store.state?.user, (value, prevValue) => {\n      if (!value.user?.id) {\n        router.replace('/');\n      }\n    });\n\n    return {\n      userId,\n      activeName\n    };\n  }\n};\n","import { render } from \"./Profile.vue?vue&type=template&id=54675879&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=ts\"\nexport * from \"./Profile.vue?vue&type=script&lang=ts\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=54675879&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-54675879\"\n\nexport default script"],"sourceRoot":""}